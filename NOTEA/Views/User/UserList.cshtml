@inject IHttpContextAccessor context
@using NOTEA.Extentions;
ï»¿@using Newtonsoft.Json;
@using NOTEA.Models.ConspectModels;
@using NOTEA.Utilities.ListManipulation;
@using NOTEA.Models.UserModels;
@using NOTEA.Models.OnlineUserListModels;
@model IOnlineUserList;

@{
    ViewData["Title"] = "User list";
    if (context.HttpContext.Session.GetString("User") == null)
    {
        context.HttpContext.Response.Redirect("/User/LogIn");
    }
}

<h1>List of online users</h1>
<br />
<p></p>
<table class="table">
    <tbody>
        <tr>
            <th>
                Username
            </th>
        </tr>
        @foreach  (KeyValuePair<int, UserModel> user in Model.OnlineUsers)
        {
            <tr>
                <td>
                    @user.Value.Username
                </td>
            </tr>
        }
    </tbody>
</table>
<br />
<input type="submit" onclick="location.href='@Url.Action("Index","Home")'" class="btn btn-primary" value="Return" /> 
@inject IHttpContextAccessor context
@using NOTEA.Extentions;
ï»¿@using Newtonsoft.Json;
@using NOTEA.Models.ConspectModels;
@using NOTEA.Utilities.ListManipulation;
@using NOTEA.Models.UserModels;
@using NOTEA.Models.OnlineUserListModels;
@model IOnlineUserList;

@{
    ViewData["Title"] = "User list";
    if (context.HttpContext.Session.GetString("User") == null)
    {
        context.HttpContext.Response.Redirect("/User/LogIn");
    }
}

<h1>List of online users</h1>
<br />
<p></p>
<table class="table">
    <tbody>
        <tr>
            <th>
                Username
            </th>
        </tr>
        @foreach  (KeyValuePair<int, UserModel> user in Model.OnlineUsers)
        {
            <tr>
                <td>
                    @user.Value.Username
                </td>
            </tr>
        }
    </tbody>
</table>
<br />
<input type="submit" onclick="location.href='@Url.Action("Index","Home")'" class="btn btn-primary" value="Return" /> 

<style>
    .btn-primary,
    .btn-primary:hover,
    .btn-primary:active,
    .btn-primary:visited,
    .btn-primary:focus {
        background-color: #FFECE4;
        border-color: #FFECE4;
        color: black;
    }

    button[class="btn btn-primary"] {
        background-color: #708471;
        border: none;
        color: white;
        padding: 2px 5px;
        text-decoration: none;
        margin: 1px 1px;
        cursor: pointer;
    }

    input[type=button], input[type=submit], input[type=reset] {
        background-color: #708471;
        border: none;
        color: white;
        padding: 2px 5px;
        text-decoration: none;
        margin: 1px 1px;
        cursor: pointer;
    }
</style>
